@switch (buttonType) {
    @default {
        <button (click)="onClick($event)" [class]="mode" [color]="color"
                [disabled]="loading || disabled" mat-button [class.with-spinner]="mode === 'spinner'">
            @if (icon) {
                <mat-icon>{{ icon }}</mat-icon>
            }
            <ng-container [ngTemplateOutlet]="labelContent"/>

        </button>
    }
    @case ('raised') {
        <button (click)="onClick($event)" [class]="mode" [color]="color"
                [disabled]="loading || disabled" mat-raised-button [class.with-spinner]="mode === 'spinner'">
            @if (icon) {
                <mat-icon>{{ icon }}</mat-icon>
            }
            <ng-container [ngTemplateOutlet]="labelContent"/>

        </button>
    }
    @case ('stroked') {
        <button (click)="onClick($event)" [class]="mode" [color]="color"
                [disabled]="loading || disabled" mat-stroked-button [class.with-spinner]="mode === 'spinner'">
            @if (icon) {
                <mat-icon>{{ icon }}</mat-icon>
            }
            <ng-container [ngTemplateOutlet]="labelContent"/>

        </button>
    }
    @case ('flat') {
        <button (click)="onClick($event)" [class]="mode" [color]="color"
                [disabled]="loading || disabled" mat-flat-button [class.with-spinner]="mode === 'spinner'">
            @if (icon) {
                <mat-icon>{{ icon }}</mat-icon>
            }
            <ng-container [ngTemplateOutlet]="labelContent"/>
        </button>
        <ng-container [ngTemplateOutlet]="loaderContent"/>
    }
    @case ('icon') {
        <button (click)="onClick($event)" [class]="mode" [color]="color"
                [disabled]="loading || disabled" mat-icon-button>
            @if (loading) {
                <mat-progress-spinner [color]="color" [diameter]="40" [strokeWidth]="2"/>
            }
            @if (icon) {
                <mat-icon>{{ icon }}</mat-icon>
            }
            <ng-content select=".icon"></ng-content>
        </button>
    }
}

<ng-template #loaderContent>
    @if (loading) {
        @if (mode === 'spinner') {
            <mat-spinner [diameter]="20"/>
        } @else {
            <mat-progress-bar mode="indeterminate"/>
        }
    }
</ng-template>

<ng-template #labelContent>
    <ng-content/>
</ng-template>
